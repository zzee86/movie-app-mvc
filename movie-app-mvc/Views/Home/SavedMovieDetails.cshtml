@model SavedMovie

@{
    ViewData["Title"] = "Saved Movies Details Page";
}
<head>
    <link rel="stylesheet" href="~/css/site.css" />
</head>

@Html.Partial("_NavBar")


<h1>@Model.Title</h1>
<h1>@Model.Overview</h1>




<div class="card">
    <div class="card-image">
        <div class="overlay">
            <!-- Overlay content -->
            <div class="image-container">
                <img src="@Url.Content("~/Images/star.png")" class="star" alt="Star" />
            </div>
            <h2>@Model.Rating</h2>
        </div>
        <img src="@Model.Poster" alt="Movie Poster" />
    </div>

    <div class="card-content">
        <div class="titleHolder">
            <h2>@Model.Title</h2>
        </div>

    </div>
</div>




<script>
    // Get the elements
    const showVideoButton = document.getElementById('show-video-button');
    const overlayVideo = document.getElementById('overlay-video');
    const closeVideoButton = document.getElementById('close-button');
    const videoIframe = document.getElementById('video-iframe');
    const movieKey = "@ViewBag.MovieKey";

    // Add click event listener to the show video button
    showVideoButton.addEventListener('click', function () {
        overlayVideo.style.display = 'flex';
        videoIframe.src = `https://www.youtube.com/embed/${movieKey}?autoplay=1`;
        closeVideoButton.style.display = 'block';
    });

    // Add click event listener to the close video button
    closeVideoButton.addEventListener('click', function () {
        overlayVideo.style.display = 'none';
        videoIframe.src = '';
        closeVideoButton.style.display = 'none';
    });
</script>